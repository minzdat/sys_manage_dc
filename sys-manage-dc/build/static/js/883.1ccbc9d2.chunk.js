"use strict";(self.webpackChunksys_manage_dc=self.webpackChunksys_manage_dc||[]).push([[883],{6863:(e,s,a)=>{a.d(s,{db:()=>h,j:()=>c});var n=a(7064),r=a(7625),l=a(5472),i=a(5437);const t=(0,n.Wp)({apiKey:"AIzaSyBUJOR0UXP-MsHvzblD7mLsWQAOSjNyYFQ",authDomain:"sys-manage-dc-9c480.firebaseapp.com",databaseURL:"https://sys-manage-dc-9c480-default-rtdb.firebaseio.com",projectId:"sys-manage-dc-9c480",storageBucket:"sys-manage-dc-9c480.firebasestorage.app",messagingSenderId:"573023439455",appId:"1:573023439455:web:ee42e43973d02e2c79a9ea",measurementId:"G-DW576LW9W3"}),c=(0,r.xI)(t),h=(0,l.aU)(t);(0,i.P5)(t)},6883:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var n=a(6569),r=a(5055),l=a(5444),i=a(6603),t=a(487),c=a(4434),h=a(5206),d=a(9002),m=a(5043),o=a(6863),u=a(7625),p=a(5472),g=a(446),b=a.n(g),x=a(579);const j=()=>{const e=(0,d.Zp)(),[s,a]=(0,m.useState)([]),[g,j]=(0,m.useState)(!1);return(0,m.useEffect)((()=>{a([{Id:"user",Title:"Ng\u01b0\u1eddi d\xf9ng"},{Id:"manager",Title:"C\u01a1 quan qu\u1ea3n l\xfd"}])}),[]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"register-page",children:[(0,x.jsx)("h2",{children:"\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n"}),(0,x.jsxs)(r.A,{className:"register-form",name:"basic",labelCol:{span:8},wrapperCol:{span:18},style:{maxWidth:600},initialValues:{remember:!0},autoComplete:"off",onFinish:async s=>{j(!0);try{await(0,u.eJ)(o.j,s.email,s.password);const a=s.birthday.format("YYYY-MM-DDTHH:mm:ss"),r=b()().format("YYYY-MM-DDTHH:mm:ss"),l="user"===s.role?"owners":"managers",i=`${l.slice(0,-1)}_${s.cccd}`,t=`${l.slice(0,-1)}_${s.cccd}`,c="user"===s.role?"Active":"Processing",h={email:s.email,fullName:s.fullName,sex:s.sex,birthday:a,phone:s.phone,address:s.address,cccd:s.cccd,lastModifiedBy:t,createAt:r,updateAt:r,status:c};await(0,p.BN)((0,p.H9)(o.db,l,i),h),n.Ay.success("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng!"),e("/login")}catch(a){console.error("L\u1ed7i \u0111\u0103ng k\xfd:",a);let e="\u0110\u0103ng k\xfd th\u1ea5t b\u1ea1i!";switch(a.code){case"auth/email-already-in-use":e="Email \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng";break;case"auth/weak-password":e="M\u1eadt kh\u1ea9u t\u1ed1i thi\u1ec3u 6 k\xfd t\u1ef1";break;case"permission-denied":e="Kh\xf4ng c\xf3 quy\u1ec1n th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y";break;default:e=a.message||e}n.Ay.error(e)}finally{j(!1)}},children:[(0,x.jsx)(r.A.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"Email kh\xf4ng h\u1ee3p l\u1ec7!"},{required:!0,message:"Vui l\xf2ng nh\u1eadp email!"}],children:(0,x.jsx)(l.A,{placeholder:"Nh\u1eadp email c\u1ee7a b\u1ea1n"})}),(0,x.jsx)(r.A.Item,{label:"H\u1ecd v\xe0 t\xean",name:"fullName",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 h\u1ecd t\xean c\u1ee7a b\u1ea1n!"}],children:(0,x.jsx)(l.A,{placeholder:"Nh\u1eadp h\u1ecd v\xe0 t\xean c\u1ee7a b\u1ea1n"})}),(0,x.jsx)(r.A.Item,{name:"sex",label:"Gi\u1edbi t\xednh",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn gi\u1edbi t\xednh!"}],children:(0,x.jsxs)(i.Ay.Group,{children:[(0,x.jsx)(i.Ay,{value:!0,children:"Nam"}),(0,x.jsx)(i.Ay,{value:!1,children:"N\u1eef"})]})}),(0,x.jsx)(r.A.Item,{name:"birthday",label:"Ng\xe0y sinh",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn ng\xe0y sinh!"}],children:(0,x.jsx)(t.A,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",placeholder:"Ch\u1ecdn ng\xe0y sinh"})}),(0,x.jsx)(r.A.Item,{name:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i!"},{pattern:/^[0-9]{10}$/,message:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i c\xf3 10 ch\u1eef s\u1ed1!"}],children:(0,x.jsx)(l.A,{placeholder:"Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a b\u1ea1n"})}),(0,x.jsx)(r.A.Item,{name:"address",label:"\u0110\u1ecba ch\u1ec9",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp \u0111\u1ecba ch\u1ec9!"}],children:(0,x.jsx)(l.A,{placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9 c\u1ee7a b\u1ea1n"})}),(0,x.jsx)(r.A.Item,{name:"cccd",label:"S\u1ed1 CCCD",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 CCCD!"},{pattern:/^[0-9]{12}$/,message:"S\u1ed1 CCCD ph\u1ea3i c\xf3 12 ch\u1eef s\u1ed1!"}],children:(0,x.jsx)(l.A,{placeholder:"Nh\u1eadp s\u1ed1 c\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n"})}),(0,x.jsx)(r.A.Item,{name:"role",label:"Vai tr\xf2",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn vai tr\xf2!"}],initialValue:s.length>0?s[0].Title:void 0,children:(0,x.jsx)(c.A,{placeholder:"Ch\u1ecdn vai tr\xf2 c\u1ee7a b\u1ea1n",showSearch:!0,optionFilterProp:"children",filterOption:(e,s)=>{var a;return-1!==(null===s||void 0===s||null===(a=s.props.children)||void 0===a?void 0:a.toLowerCase().indexOf(e.toLowerCase()))},children:s.map((e=>(0,x.jsx)(c.A.Option,{value:e.Id,children:`${e.Title}`},e.Id)))})}),(0,x.jsx)(r.A.Item,{label:"M\u1eadt kh\u1ea9u",name:"password",hasFeedback:!0,rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"},{min:6,message:"M\u1eadt kh\u1ea9u t\u1ed1i thi\u1ec3u 6 k\xfd t\u1ef1!"}],children:(0,x.jsx)(l.A.Password,{placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u"})}),(0,x.jsx)(r.A.Item,{name:"confirm",label:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Vui l\xf2ng x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u!"},e=>{let{getFieldValue:s}=e;return{validator:(e,a)=>a&&s("password")!==a?Promise.reject(new Error("M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn kh\xf4ng kh\u1edbp!")):Promise.resolve()}}],children:(0,x.jsx)(l.A.Password,{placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"})}),(0,x.jsx)(r.A.Item,{wrapperCol:{offset:8,span:16},children:(0,x.jsx)(h.Ay,{type:"primary",htmlType:"submit",children:"\u0110\u0103ng k\xfd"})})]})]})})}}}]);
//# sourceMappingURL=883.1ccbc9d2.chunk.js.map