"use strict";(self.webpackChunksys_manage_dc=self.webpackChunksys_manage_dc||[]).push([[855],{4855:(e,a,n)=>{n.r(a),n.d(a,{default:()=>m});var s=n(6569),t=n(1686),i=n(5055),r=n(5444),l=n(5206),h=n(9002),c=n(5043),o=n(7625),d=n(6863),u=n(5472),g=n(579);const m=()=>{const e=(0,h.Zp)(),[a,n]=(0,c.useState)(!1),m=(0,c.useCallback)((async a=>{n(!0);try{const{username:n,password:t}=a,i=(await(0,o.x9)(d.j,n,t)).user,r=i.email||"",l=await(async e=>{const a=["owners","managers","admins"];for(const n of a){const a=(0,u.P)((0,u.rJ)(d.db,n),(0,u._M)("email","==",e),(0,u.AB)(1)),s=await(0,u.GG)(a);if(!s.empty)return{status:s.docs[0].data().status,role:n}}return null})(r);if(!l)return await(0,o.CI)(d.j),void s.Ay.error("T\xe0i kho\u1ea3n kh\xf4ng h\u1ee3p l\u1ec7.");const{status:h,role:c}=l;if("Active"!==h)return await(0,o.CI)(d.j),void s.Ay.error("T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n ch\u01b0a \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t. Vui l\xf2ng li\xean h\u1ec7 qu\u1ea3n tr\u1ecb vi\xean.");localStorage.setItem("role",c),await(async a=>{const n=await a.getIdToken(),t=a.email||"";localStorage.setItem("Token",n),localStorage.setItem("Id",a.uid),localStorage.setItem("email",t),s.Ay.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng!"),e("/")})(i)}catch(t){let e="\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i!";if(t.code)switch(t.code){case"auth/user-not-found":e="Kh\xf4ng t\xecm th\u1ea5y t\xe0i kho\u1ea3n!";break;case"auth/wrong-password":e="M\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c!";break;case"auth/invalid-email":e="\u0110\u1ecba ch\u1ec9 email kh\xf4ng h\u1ee3p l\u1ec7!";break;case"auth/invalid-credential":e="Th\xf4ng tin \u0111\u0103ng nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i t\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u!";break;case"auth/user-disabled":e="T\xe0i kho\u1ea3n n\xe0y \u0111\xe3 b\u1ecb v\xf4 hi\u1ec7u h\xf3a. Vui l\xf2ng li\xean h\u1ec7 qu\u1ea3n tr\u1ecb vi\xean.";break;case"auth/too-many-requests":e="B\u1ea1n \u0111\xe3 th\u1eed qu\xe1 nhi\u1ec1u l\u1ea7n. Vui l\xf2ng ch\u1edd v\xe0i ph\xfat r\u1ed3i th\u1eed l\u1ea1i.";break;case"auth/network-request-failed":e="Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i m\u1ea1ng. Vui l\xf2ng ki\u1ec3m tra \u0111\u01b0\u1eddng truy\u1ec1n Internet.";break;default:e=`L\u1ed7i \u0111\u0103ng nh\u1eadp: ${t.message||"Kh\xf4ng x\xe1c \u0111\u1ecbnh"}`}s.Ay.error(e)}finally{n(!1)}}),[e]);return(0,g.jsx)(t.A,{spinning:a,size:"large",children:(0,g.jsxs)("div",{className:"login-page",children:[(0,g.jsx)("h2",{children:"\u0110\u0103ng nh\u1eadp v\xe0o t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"}),(0,g.jsx)("br",{}),(0,g.jsxs)(i.A,{className:"login-form",name:"login",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},onFinish:m,children:[(0,g.jsx)(i.A.Item,{label:"Email",name:"username",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email c\u1ee7a b\u1ea1n!"},{type:"email",message:"Email kh\xf4ng h\u1ee3p l\u1ec7!"}],children:(0,g.jsx)(r.A,{placeholder:"Nh\u1eadp email c\u1ee7a b\u1ea1n"})}),(0,g.jsx)(i.A.Item,{label:"M\u1eadt kh\u1ea9u",name:"password",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n!"}],children:(0,g.jsx)(r.A.Password,{placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n"})}),(0,g.jsxs)(i.A.Item,{wrapperCol:{offset:8,span:16},children:[(0,g.jsx)(l.Ay,{type:"primary",htmlType:"submit",id:"btn-login",loading:a,children:"\u0110\u0103ng nh\u1eadp"}),(0,g.jsxs)("div",{style:{marginTop:10,marginRight:10},children:["Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",(0,g.jsx)(h.N_,{to:"/register",children:"\u0110\u0103ng k\xfd ngay"})]})]})]})]})})}},6863:(e,a,n)=>{n.d(a,{db:()=>c,j:()=>h});var s=n(7064),t=n(7625),i=n(5472),r=n(5437);const l=(0,s.Wp)({apiKey:"AIzaSyBUJOR0UXP-MsHvzblD7mLsWQAOSjNyYFQ",authDomain:"sys-manage-dc-9c480.firebaseapp.com",databaseURL:"https://sys-manage-dc-9c480-default-rtdb.firebaseio.com",projectId:"sys-manage-dc-9c480",storageBucket:"sys-manage-dc-9c480.firebasestorage.app",messagingSenderId:"573023439455",appId:"1:573023439455:web:ee42e43973d02e2c79a9ea",measurementId:"G-DW576LW9W3"}),h=(0,t.xI)(l),c=(0,i.aU)(l);(0,r.P5)(l)}}]);
//# sourceMappingURL=855.4feb7566.chunk.js.map